Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/jupyter_cache/executors/utils.py", line 51, in single_nb_execution
    executenb(
  File "/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/nbclient/client.py", line 1085, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/nbclient/util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/nbclient/util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/asyncio/base_events.py", line 616, in run_until_complete
    return future.result()
  File "/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/nbclient/client.py", line 551, in async_execute
    await self.async_execute_cell(
  File "/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/nbclient/client.py", line 846, in async_execute_cell
    self._check_raise_for_error(cell, exec_reply)
  File "/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/nbclient/client.py", line 748, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
# Import astropy packages 
from astropy import units as u
from astropy.io import ascii
from astropy.wcs import WCS
from astropy.table import Table, vstack
from astropy.stats import sigma_clipped_stats
from astropy.nddata import StdDevUncertainty

# Import packages to deal with spectralcubes
from spectral_cube import SpectralCube

# To find stars in the MRS spectralcubes and do aperture photometry
from photutils import DAOStarFinder, CircularAperture

# To deal with 1D spectrum
from specutils import Spectrum1D
from specutils.fitting import fit_generic_continuum
from specutils.manipulation import box_smooth, extract_region, SplineInterpolatedResampler
from specutils.analysis import line_flux, centroid, equivalent_width
from specutils.spectra import SpectralRegion

# To make nice plots with WCS axis
import aplpy

# To fit a curve to the data
from scipy.optimize import curve_fit
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mImportError[0m                               Traceback (most recent call last)
Input [0;32mIn [2][0m, in [0;36m<module>[0;34m[0m
[1;32m     20[0m [38;5;28;01mfrom[39;00m [38;5;21;01mspecutils[39;00m[38;5;21;01m.[39;00m[38;5;21;01mspectra[39;00m [38;5;28;01mimport[39;00m SpectralRegion
[1;32m     22[0m [38;5;66;03m# To make nice plots with WCS axis[39;00m
[0;32m---> 23[0m [38;5;28;01mimport[39;00m [38;5;21;01maplpy[39;00m
[1;32m     25[0m [38;5;66;03m# To fit a curve to the data[39;00m
[1;32m     26[0m [38;5;28;01mfrom[39;00m [38;5;21;01mscipy[39;00m[38;5;21;01m.[39;00m[38;5;21;01moptimize[39;00m [38;5;28;01mimport[39;00m curve_fit

File [0;32m/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/aplpy/__init__.py:14[0m, in [0;36m<module>[0;34m[0m
[1;32m     10[0m [38;5;66;03m# ----------------------------------------------------------------------------[39;00m
[1;32m     12[0m [38;5;28;01mif[39;00m [38;5;129;01mnot[39;00m _ASTROPY_SETUP_:  [38;5;66;03m# noqa[39;00m
[0;32m---> 14[0m     [38;5;28;01mfrom[39;00m [38;5;21;01m.[39;00m[38;5;21;01mcore[39;00m [38;5;28;01mimport[39;00m FITSFigure  [38;5;66;03m# noqa[39;00m
[1;32m     15[0m     [38;5;28;01mfrom[39;00m [38;5;21;01m.[39;00m[38;5;21;01mrgb[39;00m [38;5;28;01mimport[39;00m make_rgb_image, make_rgb_cube  [38;5;66;03m# noqa[39;00m
[1;32m     17[0m     [38;5;28;01mfrom[39;00m [38;5;21;01m.[39;00m[38;5;21;01mframe[39;00m [38;5;28;01mimport[39;00m Frame  [38;5;66;03m# noqa[39;00m

File [0;32m/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/aplpy/core.py:20[0m, in [0;36m<module>[0;34m[0m
[1;32m     18[0m [38;5;28;01mfrom[39;00m [38;5;21;01mastropy[39;00m[38;5;21;01m.[39;00m[38;5;21;01mwcs[39;00m[38;5;21;01m.[39;00m[38;5;21;01mutils[39;00m [38;5;28;01mimport[39;00m proj_plane_pixel_scales
[1;32m     19[0m [38;5;28;01mfrom[39;00m [38;5;21;01mastropy[39;00m[38;5;21;01m.[39;00m[38;5;21;01mio[39;00m [38;5;28;01mimport[39;00m fits
[0;32m---> 20[0m [38;5;28;01mfrom[39;00m [38;5;21;01mastropy[39;00m[38;5;21;01m.[39;00m[38;5;21;01mnddata[39;00m[38;5;21;01m.[39;00m[38;5;21;01mutils[39;00m [38;5;28;01mimport[39;00m block_reduce
[1;32m     21[0m [38;5;28;01mfrom[39;00m [38;5;21;01mastropy[39;00m[38;5;21;01m.[39;00m[38;5;21;01mvisualization[39;00m [38;5;28;01mimport[39;00m AsymmetricPercentileInterval
[1;32m     22[0m [38;5;28;01mfrom[39;00m [38;5;21;01mastropy[39;00m[38;5;21;01m.[39;00m[38;5;21;01mvisualization[39;00m[38;5;21;01m.[39;00m[38;5;21;01mwcsaxes[39;00m [38;5;28;01mimport[39;00m WCSAxes, WCSAxesSubplot

[0;31mImportError[0m: cannot import name 'block_reduce' from 'astropy.nddata.utils' (/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/astropy/nddata/utils.py)
ImportError: cannot import name 'block_reduce' from 'astropy.nddata.utils' (/opt/hostedtoolcache/Python/3.8.12/x64/lib/python3.8/site-packages/astropy/nddata/utils.py)

